# ๐ฑ ุฅุนุฏุงุฏ ุงูููุงุฐุฌ ุงูุฌุงูุฒุฉ ูู WhatsApp Business API
## WhatsApp Templates Setup Guide

## ๐ฏ ุงูููุงุฐุฌ ุงููุทููุจุฉ:

ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก 4 ููุงุฐุฌ ูู WhatsApp Business Manager:

### 1. ุชุฐููุฑ ุงูุฏูุนุฉ - ุนุฑุจู (`payment_reminder_ar`)
```
Category: UTILITY
Language: Arabic (ar)
Template Name: payment_reminder_ar

Header: 
๐ข ุดุฑูุฉ ุชุงุฑ ุงูุนูุงุฑูุฉ
๐ฐ ุชุฐููุฑ ุจูุณุท ูุณุชุญู

Body:
ุนุฒูุฒู {{1}}ุ

ูุฏูู ูุณุท ุจูููุฉ {{2}} ุฏุฑูู ูุณุชุญู ุจุชุงุฑูุฎ {{3}} (ุฎูุงู {{4}} ุฃูุงู).

ูุฑุฌู ุงูุชูุงุตู ูุนูุง ูุชุฑุชูุจ ุนูููุฉ ุงูุฏูุน.

๐ฑ ููุชูุงุตู: +971547333111
๐ ุดุฑูุฉ ุชุงุฑ ุงูุนูุงุฑูุฉ

Footer:
ุฑุณุงูุฉ ุชููุงุฆูุฉ ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุนูุงุฑุงุช
```

### 2. ุชุฐููุฑ ุงูุฏูุนุฉ - ุฅูุฌููุฒู (`payment_reminder_en`)
```
Category: UTILITY
Language: English (en)
Template Name: payment_reminder_en

Header:
๐ข TAR Real Estate Company
๐ฐ Payment Reminder

Body:
Dear {{1}},

You have a payment of {{2}} AED due on {{3}} (in {{4}} days).

Please contact us to arrange the payment.

๐ฑ Contact: +971547333111
๐ TAR Real Estate Company

Footer:
Automated message from property management system
```

### 3. ุชุฐููุฑ ุงูุชูุงุก ุงูุนูุฏ - ุนุฑุจู (`contract_expiry_ar`)
```
Category: UTILITY
Language: Arabic (ar)
Template Name: contract_expiry_ar

Header:
๐ข ุดุฑูุฉ ุชุงุฑ ุงูุนูุงุฑูุฉ
๐ ุชุฐููุฑ ุจุงูุชูุงุก ุงูุนูุฏ

Body:
ุนุฒูุฒู {{1}}ุ

ุนูุฏู ุฑูู {{2}} ุณููุชูู ุจุชุงุฑูุฎ {{3}} (ุฎูุงู {{4}} ุฃูุงู).

ูููุฉ ุงูุนูุฏ: {{5}} ุฏุฑูู

ูุฑุฌู ุงูุชูุงุตู ูุนูุง ูุชุฌุฏูุฏ ุงูุนูุฏ ุฃู ุชุฑุชูุจ ุชุณููู ุงููุญุฏุฉ.

๐ฑ ููุชุฌุฏูุฏ ูุงูุงุณุชูุณุงุฑ: +971547333111
๐ ุดุฑูุฉ ุชุงุฑ ุงูุนูุงุฑูุฉ

Footer:
ุฑุณุงูุฉ ุชููุงุฆูุฉ ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุนูุงุฑุงุช
```

### 4. ุชุฐููุฑ ุงูุชูุงุก ุงูุนูุฏ - ุฅูุฌููุฒู (`contract_expiry_en`)
```
Category: UTILITY
Language: English (en)
Template Name: contract_expiry_en

Header:
๐ข TAR Real Estate Company
๐ Contract Expiry Reminder

Body:
Dear {{1}},

Your contract {{2}} will expire on {{3}} (in {{4}} days).

Contract value: {{5}} AED

Please contact us for contract renewal or unit handover arrangements.

๐ฑ For renewal & inquiries: +971547333111
๐ TAR Real Estate Company

Footer:
Automated message from property management system
```

## ๐ง ุฎุทูุงุช ุงูุฅุนุฏุงุฏ:

### 1. ุงูุฏุฎูู ุฅูู WhatsApp Business Manager:
1. ุงุฐูุจ ุฅูู https://business.facebook.com
2. ุงุฎุชุฑ ุญุณุงุจู ุงูุชุฌุงุฑู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "WhatsApp" โ "Message Templates"

### 2. ุฅูุดุงุก ุงูููุงุฐุฌ:
1. ุงููุฑ ุนูู "Create Template"
2. ุงุฎุชุฑ "UTILITY" ููุฆุฉ ุงููููุฐุฌ
3. ุฃุฏุฎู ุงุณู ุงููููุฐุฌ (ูุซู: payment_reminder_ar)
4. ุงุฎุชุฑ ุงููุบุฉ (ุงูุนุฑุจูุฉ ุฃู ุงูุฅูุฌููุฒูุฉ)
5. ุฃุฏุฎู ูุญุชูู ุงููููุฐุฌ ููุง ูู ููุถุญ ุฃุนูุงู
6. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู {{1}}, {{2}}, {{3}}, {{4}}, {{5}} ูููุชุบูุฑุงุช
7. ุฃุฑุณู ุงููููุฐุฌ ูููุฑุงุฌุนุฉ

### 3. ุงูุชุธุงุฑ ุงูููุงููุฉ:
- ุนุงุฏุฉ ุชุณุชุบุฑู ุงููุฑุงุฌุนุฉ 24-48 ุณุงุนุฉ
- ุณุชุญุตู ุนูู ุฅุดุนุงุฑ ุนูุฏ ุงูููุงููุฉ ุฃู ุงูุฑูุถ
- ูู ุญุงูุฉ ุงูุฑูุถุ ุฑุงุฌุน ุงูููุงุญุธุงุช ูุฃุนุฏ ุงูุชูุฏูู

## ๐ ูุนุงููุงุช ุงูููุงุฐุฌ:

### ุชุฐููุฑุงุช ุงูุฏูุนุงุช:
- **{{1}}**: ุงุณู ุงูุนููู (ุฑูู ุงููุณุท + ุงุณู ุงูุนููู)
- **{{2}}**: ูุจูุบ ุงูุฏูุนุฉ (ุจุงูุฏุฑูู)
- **{{3}}**: ุชุงุฑูุฎ ุงูุงุณุชุญูุงู (DD/MM/YYYY)
- **{{4}}**: ุนุฏุฏ ุงูุฃูุงู ุงููุชุจููุฉ

### ุชุฐููุฑุงุช ุงูุนููุฏ:
- **{{1}}**: ุงุณู ุงูุนููู
- **{{2}}**: ุฑูู ุงูุนูุฏ
- **{{3}}**: ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูุฏ (DD/MM/YYYY)
- **{{4}}**: ุนุฏุฏ ุงูุฃูุงู ุงููุชุจููุฉ
- **{{5}}**: ูููุฉ ุงูุนูุฏ ุงูุฅุฌูุงููุฉ (ุจุงูุฏุฑูู)

## ๐งช ุงุฎุชุจุงุฑ ุงูููุงุฐุฌ:

ุจุนุฏ ุงูููุงููุฉ ุนูู ุงูููุงุฐุฌุ ููููู ุงุฎุชุจุงุฑูุง ุจุงุณุชุฎุฏุงู:

```bash
# ุงุฎุชุจุงุฑ ุฌููุน ุงูููุงุฐุฌ
node scripts/test-contracts-payments-templates.js

# ุงุฎุชุจุงุฑ ูููุฐุฌ ูุญุฏุฏ
node scripts/test-single-template.js payment_reminder_ar
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ:

### ุดุฑูุท ุงูููุงููุฉ:
1. **ุงููุญุชูู**: ูุฌุจ ุฃู ูููู ูููุฏุงู ูุบูุฑ ูุฒุนุฌ
2. **ุงูุชุตููู**: ุงุณุชุฎุฏู UTILITY ููุชุฐููุฑุงุช
3. **ุงููุชุบูุฑุงุช**: ูุง ุชุฒูุฏ ุนู 5 ูุชุบูุฑุงุช ููู ูููุฐุฌ
4. **ุงููุบุฉ**: ูุฌุจ ุฃู ุชููู ุตุญูุญุฉ ูุญููุงู
5. **ุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉ**: ุชุฃูุฏ ูู ุฐูุฑ ุงุณู ุงูุดุฑูุฉ

### ูุตุงุฆุญ ููููุงููุฉ ุงูุณุฑูุนุฉ:
- โ ุงุณุชุฎุฏู ูุบุฉ ูุงุถุญุฉ ูููุฐุจุฉ
- โ ุงุฐูุฑ ุงูุบุฑุถ ูู ุงูุฑุณุงูุฉ ุจูุถูุญ
- โ ุฃุถู ูุนูููุงุช ุงูุงุชุตุงู
- โ ุชุฌูุจ ุงููููุงุช ุงูุชุญููุฒูุฉ ุงููุจุงูุบ ูููุง
- โ ูุง ุชุณุชุฎุฏู ุฑููุฒ ุชุนุจูุฑูุฉ ูุซูุฑุฉ
- โ ุชุฌูุจ ุงููููุงุช ุงูุชู ูุฏ ุชุนุชุจุฑ "ุณุจุงู"

## ๐ ุชุญุฏูุซ ุงููุธุงู:

ุจุนุฏ ููุงููุฉ ุงูููุงุฐุฌ:

1. **ุชูุนูู ุงูููุงุฐุฌ ูู ุงููุธุงู:**
   ```javascript
   // ูู automated-reminder-cron-job.js
   // ุงูููุงุฐุฌ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ููุฑุงู
   ```

2. **ุฅุถุงูุฉ ูุบุฉ ุงูุนููู:**
   ```sql
   -- ุฅุถุงูุฉ ุนููุฏ ุงููุบุฉ ูุฌุฏูู ุงูุนููุงุก
   ALTER TABLE Client ADD COLUMN preferredLanguage VARCHAR(5) DEFAULT 'ar';
   ALTER TABLE Renter ADD COLUMN preferredLanguage VARCHAR(5) DEFAULT 'ar';
   ```

3. **ุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู:**
   ```bash
   # ุชุดุบูู ุงููุธุงู ูููุฑุฉ ุงูุฃููู
   node scripts/automated-reminder-cron-job.js
   ```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก:

ุจุนุฏ ุงูุชูุนููุ ุฑุงูุจ:
- โ ูุนุฏู ุงูุชุณููู (Delivery Rate)
- โ ูุนุฏู ุงููุฑุงุกุฉ (Read Rate)  
- โ ูุนุฏู ุงูุงุณุชุฌุงุจุฉ (Response Rate)
- โ ุดูุงูู ุงูุนููุงุก
- โ ุฅุญุตุงุฆูุงุช WhatsApp Business

---

**ุฌููุน ุงูููุงุฐุฌ ุฌุงูุฒุฉ ููุชุทุจูู! ๐**
