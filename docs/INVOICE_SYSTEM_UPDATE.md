# ุชุญุฏูุซ ูุธุงู ุงูููุงุชูุฑ - tar.ad

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุฏูุซ ูุธุงู ุงูููุงุชูุฑ ูู ูุดุฑูุน tar.ad ูุชูููุฐ ุงููุชุทูุจุงุช ุงูุชุงููุฉ:

1. **ุฅุฒุงูุฉ ููุงุชูุฑ ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ ูู ูุธุงู ุงูููุงุชูุฑ ุงูุฑุฆูุณู**
2. **ุฅุถุงูุฉ ูุธุงู ุนูููุฉ ุงูุฅุฏุงุฑุฉ** ุงููุญุณูุจุฉ ูู ุฅุฌูุงูู ูููุฉ ุงูุนููุฏ ุจูุงุกู ุนูู ูุณุจุฉ ุงูุนูููุฉ ุงููุญุฏุฏุฉ ูู ูู ุนูุงุฑ

---

## ๐ ุงูุชุบููุฑุงุช ุงูููุทุจูุฉ

### 1. ุชุนุฏูู ููุทู ูุนุงูุฌุฉ ุงูููุงุชูุฑ
- **ุงูููู**: `src/services/server/invioces.js`
- **ุงูุชุนุฏูู**: ุชู ุชุนุฏูู ุฏุงูุฉ `createIncomeOrExpenseFromInvoice` ูุงุณุชุซูุงุก ููุงุชูุฑ ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ
- **ุงูุฅุถุงูุฉ**: ุฏุงูุฉ `handleManagementCommission` ูุญุณุงุจ ูุชุณุฌูู ุนูููุฉ ุงูุฅุฏุงุฑุฉ

### 2. ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- **ุงูููู**: `src/app/invoices/page.jsx`
- **ุงูุชุนุฏูู**: ุฅุฒุงูุฉ ุฎูุงุฑุงุช ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ ูู ูุงุฆูุฉ ุฃููุงุน ุงูููุงุชูุฑ

### 3. ุชุญุฏูุซ ุงูุชุนุฑููุงุช
- **ุงูููู**: `src/config/Enums.js`
- **ุงูุชุนุฏูู**: ุฅุฒุงูุฉ RENT ู TAX ูู ูุงุฆูุฉ ุฃููุงุน ุงูููุงุชูุฑ ุงููุนุฑูุถุฉ

### 4. ุชุญุฏูุซ ุงุณุชุนูุงูุงุช ุงูุจูุงูุงุช
- **ุงูููู**: `src/services/server/invioces.js`
- **ุงูุชุนุฏูู**: ุฅุถุงูุฉ ููุชุฑ ูุงุณุชุซูุงุก ููุงุชูุฑ ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ ูู ูุชุงุฆุฌ ุงูุจุญุซ

---

## ๐๏ธ ุงููููุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฃุฏูุงุช ูุณุงุนุฏุฉ ูุนูููุฉ ุงูุฅุฏุงุฑุฉ
- **ุงูููู**: `src/utils/managementCommission.js`
- **ุงููุตู**: ุฏูุงู ูุณุงุนุฏุฉ ูุญุณุงุจ ุนูููุงุช ุงูุฅุฏุงุฑุฉ ูุงูุชูุงุฑูุฑ

### 2. ูููู ุฅุฏุงุฑุฉ ุชุญุฏูุซ ุงููุธุงู
- **ุงูููู**: `src/components/admin/InvoiceSystemManager.jsx`
- **ุงููุตู**: ูุงุฌูุฉ ูุณุชุฎุฏู ูุฅุฏุงุฑุฉ ุชุญุฏูุซ ุงููุธุงู ูุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

### 3. API ุชุญุฏูุซ ุงููุธุงู
- **ุงูููู**: `src/app/api/admin/update-invoice-system/route.js`
- **ุงููุตู**: API endpoint ูุชูููุฐ ุชุญุฏูุซ ุงููุธุงู ูุฌูุจ ุงูุฅุญุตุงุฆูุงุช

### 4. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุชุญุฏูุซ
- **ุงูููู**: `src/app/admin/invoice-system/page.jsx`
- **ุงููุตู**: ุตูุญุฉ ูุฎุตุตุฉ ูููุฏุฑุงุก ูุฅุฏุงุฑุฉ ุชุญุฏูุซ ุงููุธุงู

### 5. ุณูุฑูุจุช ุงูุชุญุฏูุซ
- **ุงูููู**: `scripts/update-invoice-system.js`
- **ุงููุตู**: ุณูุฑูุจุช ูุงุจู ููุชุดุบูู ุงููุณุชูู ูุชุญุฏูุซ ุงููุธุงู

---

## ๐ ููููุฉ ุชูููุฐ ุงูุชุญุฏูุซ

### ุงูุทุฑููุฉ ุงูุฃููู: ุนุจุฑ ูุงุฌูุฉ ุงูููุจ (ูููุตู ุจูุง)
1. ูู ุจุชุณุฌูู ุงูุฏุฎูู ููุฏูุฑ
2. ุงูุชูู ุฅูู `/admin/invoice-system`
3. ุฑุงุฌุน ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ
4. ุงุถุบุท ุนูู "ุจุฏุก ุชุญุฏูุซ ุงููุธุงู"
5. ุฑุงุฌุน ุงููุชุงุฆุฌ ูุงูุชูุงุฑูุฑ

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุนุจุฑ API
```bash
# ุฌูุจ ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ
curl -X GET http://localhost:3000/api/admin/update-invoice-system

# ุชูููุฐ ุงูุชุญุฏูุซ
curl -X POST http://localhost:3000/api/admin/update-invoice-system
```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุนุจุฑ ุงูุณูุฑูุจุช
```bash
node scripts/update-invoice-system.js
```

---

## ๐ ูุง ูุญุฏุซ ุฃุซูุงุก ุงูุชุญุฏูุซ

### 1. ุชุญุฏูุฏ ุงูููุงุชูุฑ ุงููุชุฃุซุฑุฉ
- ุงูุจุญุซ ุนู ุฌููุน ููุงุชูุฑ ุงูุฅูุฌุงุฑ (`RENT`) ูุงูุถุฑุงุฆุจ (`TAX`)
- ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูููุงุชูุฑ ุงูููุฌูุฏุฉ

### 2. ุญุณุงุจ ุนูููุฉ ุงูุฅุฏุงุฑุฉ
```javascript
const commissionAmount = (invoiceAmount * propertyCommissionRate) / 100;
```

### 3. ุชุญุฏูุซ ุณุฌูุงุช ุงูุฏุฎู
- **ุฅุฐุง ูุงู ููุงู ุณุฌู ุฏุฎู ููุฌูุฏ**: ูุชู ุชุญุฏูุซู ููุตุจุญ ุนูููุฉ ุฅุฏุงุฑุฉ
- **ุฅุฐุง ูู ููู ููุงู ุณุฌู**: ูุชู ุฅูุดุงุก ุณุฌู ุฌุฏูุฏ ูุนูููุฉ ุงูุฅุฏุงุฑุฉ

### 4. ุฅูุดุงุก ุงูุชูุงุฑูุฑ
- ุนุฏุฏ ุงูููุงุชูุฑ ุงูููุนุงูุฌุฉ
- ุฅุฌูุงูู ุนูููุงุช ุงูุฅุฏุงุฑุฉ
- ูุชูุณุท ุนูููุฉ ุงูุฅุฏุงุฑุฉ
- ุชูุงุตูู ูู ุนูููุฉ ุชุญุฏูุซ

---

## ๐ก ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุญุณุงุจ ุนูููุฉ ุงูุฅุฏุงุฑุฉ ุงูุชููุงุฆู
- ูุชู ุญุณุงุจ ุงูุนูููุฉ ุจูุงุกู ุนูู ูุณุจุฉ ุงูุนูููุฉ ุงููุญุฏุฏุฉ ูู ุฌุฏูู ุงูุนูุงุฑุงุช
- ุชุณุฌูู ุชููุงุฆู ูุนูููุฉ ุงูุฅุฏุงุฑุฉ ูุฏุฎู ูููุตู

### 2. ุชูุงุฑูุฑ ููุตูุฉ
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูุนูููุงุช ุงูุฅุฏุงุฑุฉ
- ุชูุงุฑูุฑ ุญุณุจ ุงูุนูุงุฑ ูุงููุชุฑุฉ ุงูุฒูููุฉ
- ุชุชุจุน ุชูุตููู ููู ุนูููุฉ

### 3. ูุงุฌูุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุญุงููุฉ
- ุฅููุงููุฉ ุงูุชุญุฏูุซ ุจุถุบุทุฉ ูุงุญุฏุฉ
- ุชูุงุฑูุฑ ูุฑุฆูุฉ ูููุชุงุฆุฌ

---

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### 1. ุตูุงุญูุงุช ุงููุตูู
- ุงููุตูู ููุตูุญุฉ ููุชุตุฑ ุนูู ุงููุฏุฑุงุก ููุท (`role: 'ADMIN'`)
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุฎูููุฉ

### 2. ุงูุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ุงููุญุชููุฉ
- ุชุณุฌูู ููุตู ููุนูููุงุช
- ุฅููุงููุฉ ุงูุชุฑุงุฌุน ุนู ุงูุนูููุงุช

---

## ๐ ุชุฃุซูุฑ ุงูุชุญุฏูุซ ุนูู ุงููุธุงู

### ูุจู ุงูุชุญุฏูุซ:
- ููุงุชูุฑ ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ ุชุธูุฑ ูู ูุงุฆูุฉ ุงูููุงุชูุฑ
- ุชูุณุฌู ูุฏุฎู ูุงูู ูู ุงููุธุงู ุงููุญุงุณุจู

### ุจุนุฏ ุงูุชุญุฏูุซ:
- ููุงุชูุฑ ุงูุฅูุฌุงุฑ ูุงูุถุฑุงุฆุจ ูุฎููุฉ ูู ูุงุฆูุฉ ุงูููุงุชูุฑ
- ุชูุณุฌู ุนูููุฉ ุงูุฅุฏุงุฑุฉ ููุท ูุฏุฎู
- ุนูููุฉ ุงูุฅุฏุงุฑุฉ ูุญุณูุจุฉ ุจูุงุกู ุนูู ูุณุจุฉ ุงูุนูุงุฑ

---

## ๐๏ธ ุงูุตูุงูุฉ ูุงููุชุงุจุนุฉ

### 1. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุชุชุจุน ุนูููุงุช ุงูุฅุฏุงุฑุฉ ุงูุฌุฏูุฏุฉ
- ูุฑุงุฌุนุฉ ุฏูุฑูุฉ ููุญุณุงุจุงุช
- ุงูุชุฃูุฏ ูู ุตุญุฉ ุงูุญุณุงุจุงุช

### 2. ุงูุชูุงุฑูุฑ ุงูุฏูุฑูุฉ
- ุชูุงุฑูุฑ ุดูุฑูุฉ ูุนูููุงุช ุงูุฅุฏุงุฑุฉ
- ููุงุฑูุฉ ุงูุฃุฏุงุก ูุจู ูุจุนุฏ ุงูุชุญุฏูุซ
- ุชุญููู ุงูุงุชุฌุงูุงุช ูุงูุฃููุงุท

### 3. ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ูููุตุญ ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุชุญุฏูุซ
- ุงูุงุญุชูุงุธ ุจุณุฌูุงุช ุงูุชุญุฏูุซ ูููุฑุงุฌุนุฉ

---

## ๐ ุงูุฏุนู ูุงูุงุณุชูุณุงุฑุงุช

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู ุฃู ุงุณุชูุณุงุฑุงุช ุญูู ุงูุชุญุฏูุซ:

1. ุฑุงุฌุน ุงูู logs ูู ุงูุฎุงุฏู
2. ุชุญูู ูู ุงูุฅุญุตุงุฆูุงุช ุนุจุฑ ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ
3. ุงุณุชุฎุฏู ุงูู API ููุญุตูู ุนูู ุชูุงุตูู ุฅุถุงููุฉ

---

## ๐ฏ ุงูุฎูุงุตุฉ

ูุฐุง ุงูุชุญุฏูุซ ูุญุณู ูู ุฏูุฉ ุงููุธุงู ุงููุญุงุณุจู ุนุจุฑ:
- ุชุณุฌูู ุนูููุฉ ุงูุฅุฏุงุฑุฉ ุจุฏูุงู ูู ุงููููุฉ ุงููุงููุฉ ููููุงุชูุฑ
- ุชุญุณูู ุงูุชูุงุฑูุฑ ุงููุงููุฉ
- ุชูููุฑ ูุฑููุฉ ุฃูุจุฑ ูู ุฅุฏุงุฑุฉ ุงูุนูููุงุช

ุงูุชุญุฏูุซ ูุตูู ููููู ุขููุงู ููุงุจูุงู ููุชุฑุงุฌุน ูุน ุชูููุฑ ุชูุงุฑูุฑ ููุตูุฉ ููู ุนูููุฉ.
